\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{with} \PYG{n+nb}{open}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{)} \PYG{k}{as} \PYG{n}{pgn}\PYG{p}{:}
    \PYG{n}{game} \PYG{o}{=} \PYG{n}{chess}\PYG{o}{.}\PYG{n}{pgn}\PYG{o}{.}\PYG{n}{read\PYGZus{}game}\PYG{p}{(}\PYG{n}{pgn}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Parses pgn file}
    \PYG{n}{board} \PYG{o}{=} \PYG{n}{game}\PYG{o}{.}\PYG{n}{board}\PYG{p}{()}

    \PYG{k}{for} \PYG{n}{move} \PYG{o+ow}{in} \PYG{n}{game}\PYG{o}{.}\PYG{n}{mainline\PYGZus{}moves}\PYG{p}{():}
        \PYG{n}{board}\PYG{o}{.}\PYG{n}{push}\PYG{p}{(}\PYG{n}{move}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Pushs the move to the move stack, this \PYGZdq{}makes\PYGZdq{} the move}
\end{Verbatim}
